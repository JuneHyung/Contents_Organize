# ğŸ³ ë·° í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‹œì‘í•˜ê¸°

## Example

```vue
<!-- HelloWorld.vue -->
<template>
  <div>Hello {{ message }}</div>
</template>

<script>
export default {
  data() {
    return {
      message: 'Vue!'
    }
  }
}
</script>
```

```javascript
// helloworld.test.js
import Vue from 'vue';
import HelloWorld from './HelloWorld.vue';

test('HelloWorld Component', () => {
  const cmp = new Vue(HelloWorld).$mount();
  expect(cmp.message).toBe('Vue!');
});
```



## ë·° í…ŒìŠ¤íŠ¸ ìœ í‹¸ APIë¥¼ ì´ìš©í•œ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸

ì—¬ê¸°ì„œ ë²ˆê±°ë¡œìš´ ì ì€ `$mount`ë¥¼ í˜¸ì¶œí•´ì•¼í•œë‹¤ëŠ” ì .

`shallowMount()`ì™€ `mount()`ë¥¼ ì´ìš©í•˜ì—¬ ë°˜ë³µ ì‘ì—…ì„ í¸í•˜ê²Œ ë„ì™€ì¤€ë‹¤.

```javascript
// helloworld.test.js
import { shallowMount } from '@vue/test-utils';
import HelloWorld from './HelloWorld.vue';

test('HelloWorld Component', () => {
  const wrapper = shallowMount(HelloWorld);
  expect(wrapper.vm.message).toBe('Vue!');
});
```

`shallowMount()`ëŠ” ì§€ì •ëœ ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ìš©ë§Œ í…ŒìŠ¤íŠ¸í•  ë•Œ ì‚¬ìš©í•˜ê³ , 

`mount()`ëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ë“±ë¡ëœ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ë‚´ìš©ë“¤ ê¹Œì§€ í™•ì¸í•  ë•Œ ì‚¬ìš©.





## Example

```javascript
// calculator.js
export default class Calculator {
  add(a, b) {
    return a + b;
  }
  subtract(a, b) {
    return a - b;
  }
}
```

Calculatorê°€ ì¸ìŠ¤í„´ìŠ¤í™” ê°€ëŠ¥í•œ í´ë˜ìŠ¤ì¸ì§€ í…ŒìŠ¤íŠ¸.

```javascript
// calculator.test.js
import Calculator from "./calculator";

describe("Calculator", () => {
  it("should be instanceable", () => {
    expect(new Calculator()).toBeInstanceOf(Calculator);
  });
});
```

expectì˜ `toBeInstanceOf()`ë¥¼ ì‚¬ìš©.

ì°¸ê³  : [expect document](https://jestjs.io/docs/expect)



### Testing the Calculator

ì—¬ëŸ¬ ê¸°ëŠ¥ì´ ìˆìœ¼ë©° ê° ê¸°ëŠ¥ì€ í…ŒìŠ¤íŠ¸ í•­ëª©ì„.

ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.

```javascript
// calculator.test.js
import Calculator from "./calculator";

describe("Calculator", () => {
  it("should be instanceable", () => {
    expect(new Calculator()).toBeInstanceOf(Calculator);
  });
  describe("add", () => {
    it("should sum up 2 numbers", () => {
        const calculator = new Calculator();
        expect(calculator.add(3, 2)).toBe(5);
	});
  });
    
  describe("subtract", () => {
	it("should subtract 2 numbers", () => {
      const calculator = new Calculator();
      expect(calculator.subtract(3, 2)).toBe(1);
    });
  });
});
```



## Test Driven Development (TDD)

Test Driven DevelpmentëŠ” **ì½”ë“œë¥¼ êµ¬í˜„í•˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ë°©ë²•ë¡ .**

ì´ë¥¼ í†µí•´ ìš”êµ¬ì‚¬í•­ì— ëŒ€í•´ ë¨¼ì € ìƒê°í•œ ë‹¤ìŒ ì‘ë™ ë°©ì‹ê³¼ ëª¨ë“ˆì˜ ìµœì¢… APIëª¨ì–‘, ë§ˆì§€ë§‰ìœ¼ë¡œ êµ¬í˜„ ì„¸ë¶€ ì •ë³´ë¥¼ ìƒê°í•˜ê²Œ ë¨.



Jestì—ëŠ” `watch mode`ê°€ ìˆë‹¤.

íŒŒì¼ì„ watchí•˜ëŠ” ê²ƒ ë¿ë§Œì•„ë‹ˆë¼ ë³€ê²½ëœ íŒŒì¼ë§Œ ì‹¤í–‰í•˜ê±°ë‚˜ testì´ë¦„ìœ¼ë¡œ í•„í„°ë§ í•˜ëŠ” ë“± ì—¬ëŸ¬ ì˜µì…˜ë„ ì œê³µí•¨.

```shell
npm test -- --watch
```

â— JestëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Gitì„ ì‚¬ìš©í•´ ì–´ë–¤ íŒŒì¼ì´ ë³€ê²½ë˜ì—ˆë‚˜ í™•ì¸í•œë‹¤. Gitì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš° watchAllì„ ì‚¬ìš©.



TDDë¥¼ ì ìš©í•´ ì—¬ëŸ¬ ì¼€ì´ìŠ¤ë“¤ì„ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

```javascript
// calculator.test.js
// ...
describe("add", () => {
  // ...
  it("should throw an Error if less than 2 args are supplied", () => {
    const calculator = new Calculator();
    expect(() => calculator.add(3)).toThrow();
  });
  it("should throw an Error if the arguments are not numbers", () => {
    const calculator = new Calculator();
    expect(() => calculator.add(3, "2")).toThrow();
  });
});
```

Throw ê°™ì€ ì˜¤ë¥˜ ë°œìƒ matcherë¥¼ ì‚¬ìš©í•  ë•Œ **expectëŠ” ë‚´ë¶€ì ìœ¼ë¡œ try/catchë¥¼ ë˜í•‘í•˜ê¸° ë•Œë¬¸ì—** ì˜ˆìƒ ê°ì²´ë¥¼ í•¨ìˆ˜ë¡œ ë˜í•‘ í•´ì•¼í•¨.



ë¬¸ìì—´ì„ ì¸ìˆ˜ë¡œ ì „ë‹¬í•˜ê±°ë‚˜ Errorì¸ìŠ¤í„´ìŠ¤ë¥¼ toThrowí•¨ìˆ˜ì— ì „ë‹¬í•´ **íŠ¹ì • ì˜¤ë¥˜ë¥¼ ì§€ì •**í•  ìˆ˜ ìˆë‹¤.

```javascript
/ calculator.test.js
// ...
describe("add", () => {
  // ...
  it("should throw an Error if less than 2 args are supplied", () => {
    const calculator = new Calculator();
    expect(() => calculator.add(3)).toThrow("2 arguments are required");
  });
  it("should throw an Error if the arguments are not numbers", () => {
    const calculator = new Calculator();
    expect(() => calculator.add(3, "2"))
      .toThrow(Error("The arguments must be numbers"));
  });
});
```

ê²€ì‚¬ ê²°ê³¼ í…ŒìŠ¤íŠ¸ê°€ redì¼í…ë° greenìœ¼ë¡œ ë°”ë€Œê²Œ ìœ í˜•ê²€ì‚¬ ì¶”ê°€.

```javascript
// calculator.js
export default class Calculator {
  _checkArgs(a, b) {
    if (a === undefined || b === undefined) {
      throw new Error("2 arguments are required");
    }
    if (typeof a !== "number" || typeof b !== "number") {
      throw new Error("The arguments must be numbers");
    }
  }
  add(a, b) {
    this._checkArgs(a, b);
    return a + b;
  }
  subtract(a, b) {
    this._checkArgs(a, b);
    return a - b;
  }
}
```

í™•ì¸ë¡œì§ì„ ìœ„í•´ _checkArgsë¥¼ ì¶”ê°€í–ˆëŠ”ë° ì´ê²ƒì„ í…ŒìŠ¤íŠ¸í•´ì•¼í• ê¹Œ?

ê·¸ëŸ´ í•„ìš”ëŠ” ì—†ë‹¤.

í•´ë‹¹ ë©”ì„œë“œëŠ” addì™€ subtractì— ì‚¬ìš©ë˜ëŠ” helper methodì´ë©° ì•”ë¬µì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ëœë‹¤.

addë©”ì„œë“œì— ì¶”ê°€í•œ í…ŒìŠ¤íŠ¸ë¡œ _checkArgsì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ë„ í…ŒìŠ¤íŠ¸ë¨.

â— ***Remember: not everything needs to be tested, be pragmatic.\***