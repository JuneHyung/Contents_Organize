# 웹팩의 4가지 주요 속성

* entry
* output
* loader
* plugin

```js
// webpack.config.js
// `webpack` command will pick up this config setup by default
var path = require('path');

module.exports = {
  mode: 'none',
  entry: './src/index.js',
  output: {
    filename: 'main.js',
    path: path.resolve(__dirname, 'dist')
  }
};
```



## Entry

웹팩에서 웹 자원을 변환하기 위해 필요한 최초 진입점이자 자바스크립트 파일 경로.

```javascript
// webpack.config.js
module.exports = {
  entry: './src/index.js'
}
```



### Entry파일에는 어떤 내용이?

`entry`에 지정된 파일에는 웹 애플리케이션의 **전반적인 구조와 내용**이 담겨야 한다.

웹팩이 해당 파일을 가지고 웹 애플리케이션에서 사용되는 모듈들의 연관 관계를 이해하고 분석하기 때문에 동작시킬수 있는 내용들이 담겨야 함.

```javascript
// index.js
import LoginView from './LoginView.js';
import HomeView from './HomeView.js';
import PostView from './PostView.js';

function initApp() {
  LoginView.init();
  HomeView.init();
  PostView.init();
}

initApp();
```

사용자의 로그인화면, 메인화면, 게시글작성화면등 필요한 화면들이 모두 index.js에서 불러져 사용되 므로 웹팩을 실행하면 해당 파일들의 내용까지 해석하여 파일을 빌드 해준다.

이처럼 모듈간 의존관계가 생기는 구조를 **디펜던시 그래프(Dependency Graph)** 라고함.

참고 : [디펜던시 그래프](https://webpack.js.org/concepts/dependency-graph/)

### Entry 유형

엔트리 포인트는 1개가 될 수 있지만 여러개가 될 수 있다.

```javascript
entry: {
  login: './src/LoginView.js',
  main: './src/MainView.js'
}
```

이처럼 엔트리 포인트를 분리하는 경우 싱글 페이지 애플리케이션이 아닌 특정 페이지로 진입했을 때 서버에서 해당 정보를 내려주는 형태의 멀티 페이지 애플리케이션에 적합.



## Output

웹팩을 돌리고 난 결과물의 파일 경로를 의미.

entry와는 다르게 객체 형태로 옵션들을 추가해야함.



### Output 속성 옵션 형태

최소한 `filename`은 지정해주어야 하며 일반적으로 아래 `path`와 같이 정의함

```js
output: {
    filename: 'main.js',
	path: path.resolve(__dirname, 'dist')
}
```

dist폴더에 main.js로 만들겠다는 의미.

`path.resolve()`코드는 인자로 넘어온 경로들을 조합해 유효한 파일 경로를 만들어주는 API.

```js
output: './dist/main.js'
```

[path API참고](https://nodejs.org/api/path.html)



## Output 파일 이름 옵션

filename속성에 여러 옵션을 넣을 수 있다.

### 1. 결과 파일 이름에 entry 속성을 포함하는 옵션

```js
module.exports = {
  output: {
    filename: '[name].bundle.js'
  }
};
```



### 2. 결과 파일 이름에 웹팩 내부적으로 사용하는 모듈ID를 포함하는 옵션

```js
module.exports = {
  output: {
    filename: '[id].bundle.js'
  }
};
```



### 3. 매 빌드 시 마다 고유 해시를 붙이는 옵션

```js
module.exports = {
  output: {
    filename: '[name].[hash].bundle.js'
  }
};
```



### 4. 각 모듈 내용을 기준으로 생성된 해시 값을 붙이는 옵션

```js
module.exports = {
  output: {
    filename: '[chunkhash].bundle.js'
  }
};
```

이렇게 생성된 결과 파일의 이름에는 각각 엔트리 이름, 모듈 아이디, 해시 값 등이 포함됨.